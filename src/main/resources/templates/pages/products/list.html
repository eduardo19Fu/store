<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">

<title>Store | Listado de Productos</title>

	<!-- Font Awesome Icons -->
	<link rel="stylesheet" th:href="@{../plugins/fontawesome-free/css/all.min.css}">
	<!-- Theme style -->
	<link rel="stylesheet" th:href="@{../dist/css/adminlte.min.css}">
	<!-- Google Font: Source Sans Pro -->
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
	<link rel="stylesheet" th:href="@{../../plugins/datatables-bs4/css/dataTables.bootstrap4.css}	">
	<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
	 <!-- SweetAlert2 -->
	 <link rel="stylesheet" th:href="@{../../plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css}">
</head>
<body class="hold-transition sidebar-mini">
	<div class="wrapper">

		<!-- Navbar -->
		<header th:insert="shared/navbar :: menu-superior"></header>
		<!-- /.navbar -->

		<aside th:insert="shared/sidebar :: menu-lateral"></aside>

		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			
			<!--SHOW ERROR MESSAGE-->
			<div id="message" class="swalDefaultSuccess" th:if="${message != null}">

			</div>

			<!-- Content Header (Page header) -->
			<div class="content-header">
				<div class="container-fluid">
					<div class="row mb-2">
						<div class="col-sm-6">
						</div>
						<!-- /.col -->
					</div>
					<!-- /.row -->
				</div>
				<!-- /.container-fluid -->
			</div>
			<!-- /.content-header -->

			<!-- Main content -->
			<section class="content">
				<div class="row">
					<div class="col-12">

						<div class="card">
							<div class="card-header">
								<h3 class="card-title">Products List</h3>
							</div>
							<!-- /.card-header -->
							<div class="card-body table-responsive">
								<table id="productos_table" class="table table-bordered table-striped text-nowrap">
									<thead>
										<tr>
											<th>Code</th>
											<th>Name</th>
											<th>P. Price</th>
											<th>S. Price</th>
											<th>P. Date</th>
											<th>Maker</th>
											<th>Family</th>
											<th>Store Stuck</th>
											<th>Warehouse Stuck</th>
											<th>Status</th>
											<th>Op</th>
											
										</tr>
									</thead>
									<tbody>
										<tr th:each="product : ${products}">
											<td th:text="${product.codigo}"></td>
											<td th:text="${product.nombreproducto}"></td>
											<td th:text="${product.preciocompra}"></td>
											<td th:text="${product.precioventa}"></td>
											<td th:text="${product.fechacompra}"></td>
											<td th:text="${product.fabricante.nombrefabricante}"></td>
											<td th:text="${product.familia.nombrefamilia}"></td>
											<td th:text="${product.stucktienda}"></td>
											<td th:text="${product.stuckbodega}"></td>
											<td th:text="${product.estado.nombreestado}"></td>
											<td>
												<a th:href="@{/products/edit/{id} (id = ${product.idproducto})}" class="btn bg-gradient-primary"><i class="fas fa-edit"></i></a>
												<a th:href="@{/products/delete/{id} (id = ${product.idproducto})}" class="btn bg-gradient-danger"><i class="fas fa-trash-alt"></i></a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->

		<!-- Main Footer -->
		<footer th:insert="shared/footer :: footer" class="main-footer">

		</footer>
	</div>
	<!-- ./wrapper -->

	<!-- REQUIRED SCRIPTS -->

	<!-- jQuery -->
	<script th:src="@{../../plugins/jquery/jquery.min.js}"></script>
	<!-- Bootstrap 4 -->
	<script th:src="@{../../plugins/bootstrap/js/bootstrap.bundle.min.js}"></script>
	<script th:src="@{../../plugins/datatables/jquery.dataTables.js}"></script>
	<script th:src="@{../../plugins/datatables-bs4/js/dataTables.bootstrap4.js}"></script>
	<!-- AdminLTE App -->
	<script th:src="@{../../dist/js/adminlte.min.js}"></script>
	<!-- SweetAlert2 -->
	<script th:src="@{../../plugins/sweetalert2/sweetalert2.min.js}"></script>
	<script>
		  $(function () {
		    $('#productos_table').DataTable({
		      "paging": true,
		      "lengthChange": true,
		      "searching": true,
		      "ordering": true,
		      "info": true,
		      "autoWidth": false,
		    });
		  });
	</script>
	<script th:inline="javascript">
		
		/*<[CDATA[*/
		var message = /*[[${message}]]*/ "Default";
		/*]]>*/
		
		$(function(){
				$('.swalDefaultSuccess').show(function() {
					Toast.fire({
						type: 'success',
						title: message
					})
				});
			});
	</script>
</body>
</html>